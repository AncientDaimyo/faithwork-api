{% extends 'base.html.twig' %}

{% block title %}FAITHWORK
{% endblock %}

{% block head %}
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const footerPlaceholder = document.querySelector('.footer-placeholder');
        const footer = document.querySelector('footer');
        const footerHeight = footer.offsetHeight;

        window.addEventListener('scroll', function () {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const windowHeight = window.innerHeight;

            if (scrollTop + windowHeight >= document.body.offsetHeight - footerHeight) {
                footerPlaceholder.style.height = footerHeight + 'px';
            } else {
                footerPlaceholder.style.height = '0';
            }
        });

        // Добавляем фиксацию футера на мобильных устройствах
        const isMobile = window.innerWidth <= 767;
        if (isMobile) {
            footer.style.position = 'fixed';
            footer.style.bottom = '0';
            footer.style.width = '100%';
        }
    });
</script>
<style>
    .has-footer {
        margin-bottom: 0 !important;
    }

    @media (max-width: 767px) {
        .shop-page {
            margin-bottom: 0 !important;
        }

        #footer_common {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
        }
    }
</style>
{% endblock %}

{% block body %}
<div {{ vue_component('HeaderRide') }}></div>
<div class="shop-page has-footer">
    {% for product in products %}
    <div class="product-card-full" {{ vue_component('ProductCard', { 'id' : product.id, 'name' : product.name, 'article'
        : product.article, 'image' : product.image, 'cost' : product.cost, 'description' : product.description, } ) }}>
    </div>
    {% endfor %}
</div>
<div class="footer-placeholder"></div>
<div id="footer_common" {{ vue_component('FooterSecond') }}></div>
{% endblock %}